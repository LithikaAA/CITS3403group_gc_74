{% extends "base.html" %}
{% block title %}Friend Comparison Dashboard | VibeShare{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/shared-dashboard.css') }}">
{% endblock %}

{% block content %}
<div class="w-full max-w-screen-2xl mx-auto px-4 py-10 pt-14">
  {% if not shared_playlists or shared_playlists|length == 0 %}
    <div class="dashboard-card no-friends-container">
      <svg class="no-friends-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
      </svg>
      <h2 class="no-friends-title">No Shared Playlists Yet</h2>
      <p class="no-friends-description">You don't have any shared playlists from friends yet. Go to the Friends tab to connect with friends and ask them to share their playlists with you.</p>
      <a href="{{ url_for('share.share') }}" class="friends-button">Go to Friends Tab</a>
    </div>
  {% else %}
    <div class="space-y-12">
      {% include "shared_dashboard_parts/selectors.html" %}
      {% include "shared_dashboard_parts/charts_grid.html" %}
      {% include "shared_dashboard_parts/stats_cards.html" %}
    </div>
    <script>
      window.initialMinutesData = {{ comparison_minutes | tojson }};
      window.initialBubbleData = {{ comparison_bubble | tojson }};
      window.initialMoodData = {{ comparison_mood | tojson }};
      window.initialModeData = {{ comparison_mode | tojson }};
      window.initialPopularSongsData = {{ top_popular_songs | tojson }};
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ url_for('static', filename='js/shared-dashboard-charts.js') }}"></script>
    <script src="{{ url_for('static', filename='js/shared-playlist-dropdown.js') }}"></script>
  {% endif %}
</div>
{% endblock %}