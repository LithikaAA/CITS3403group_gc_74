{% extends "base.html" %}
{% block title %}Share Playlists | VibeShare{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto py-10 px-6">
    <!-- Header -->
    <div class="flex justify-between items-center mb-10">
        <img src="{{ url_for('static', filename='img/side_logo.png') }}" alt="VibeShare Logo" class="w-48 md:w-56 lg:w-64">
        <button class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700">Account</button>
    </div>

    <!-- Main Heading -->
    <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">Share Your Playlists</h1>
    <p class="text-center text-gray-500 mb-10">Select playlists and choose friends to share your vibes with!</p>

    <!-- Share Form -->
    <form action="{{ url_for('share.share') }}" method="POST" class="bg-white p-8 rounded-xl shadow space-y-8">
        <!-- Playlist Selection -->
        <div>
            <h2 class="text-xl font-semibold text-gray-700 mb-4">Your Playlists</h2>
            <div class="grid grid-cols-2 gap-4">
                {% for playlist in playlists %}
                <label class="flex items-center space-x-3">
                    <input type="checkbox" name="selected_playlists" value="{{ playlist.id }}" class="accent-indigo-500">
                    <span class="text-gray-800">{{ playlist.name }} ({{ playlist.song_count }} songs)</span>
                </label>
                {% endfor %}
            </div>
        </div>

        <!-- Friend Selection -->
        <div>
            <h2 class="text-xl font-semibold text-gray-700 mb-4">Select Friend</h2>
            <select name="friend_username" class="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-indigo-300" required>
                <option value="" disabled selected>Choose a friend...</option>
                {% for friend in friends %}
                <option value="{{ friend.username }}">{{ friend.username }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Share Button -->
        <div class="text-center">
            <button type="submit" class="bg-indigo-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-indigo-700 transition">
                Share Selected Playlists
            </button>
        </div>
    </form>
</div>
{% endblock %}
